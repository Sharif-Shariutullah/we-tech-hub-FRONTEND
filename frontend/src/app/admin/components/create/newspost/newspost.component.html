


<h1 class="page-header">
  <b>Create News</b>
</h1>

<div
  class="py-5 container"
  style="align-items: center; justify-content: center; text-align: center"
>
  <button
    type="submit"
    class="btn btn-warning btn-block fs-3"
    routerLink="/admin/newsList"
    routerLinkActive="Active"
  >
  <i class="fa-solid fa-rectangle-list"></i> &nbsp; See Your List 
  </button>
</div>


<div class="container bg-light shadow p-5 my-4 rounded">
  <form [formGroup]="newsForm" (ngSubmit)="addNews()">
    <!-- Row 1: File Upload and Title -->
    <div class="row justify-content-center">

  


      <div class="col-lg-6 col-md-6 col-sm-12 mb-4">
        
        <label class="file-upload-container">
          <i class="fa fa-camera fa-2x upload-icon"></i>
          <span>Select a Photo</span>
          <input
            type="file"
            id="fileInput"
            (change)="onFileSelected($event)"
            hidden
          />
        <div
          class="file-upload-container"
          (dragover)="onDragOver($event)"
          (dragleave)="onDragLeave($event)"
          (drop)="onDrop($event)"
          [ngClass]="{'drag-over': isDragOver}"
        >
        <i class="fas fa-cloud-upload-alt fa-3x text-primary mb-2"></i>
        <span> Drag & Drop</span>
        <p style="font-weight: bold">Only Horizontal Photo</p>
          <div class="drag-drop-icon">
            <i class="fa fa-file-upload fa-3x"></i>
            <p>Drag and drop your image here</p>
          </div>

          
          <input
            type="file"
            id="fileInput"
            (change)="onFileSelected($event)"
            hidden
          />
        </div>
      </label>






        <div *ngIf="selectedFile" class="image-preview mt-3">
          <img
            [src]="imagePreview"
            alt="Selected Image"
            class="preview-image"
            (click)="openModal()"
          />
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-12 mb-4">
        <label class="form-label">
          <i class="fa fa-header fa-lg"></i> &nbsp; Title
        </label>
        <input
          type="text"
          class="form-control"
          placeholder="Title"
          formControlName="title"
        />
        <small
          class="text-danger"
          *ngIf="newsForm.get('newsDetails.title')?.hasError('required')"
        >
          This Input Is Required!
        </small>
      </div>
    </div>

    <!-- Row 2: Subtitle -->
    <div class="row">
      <div class="col-12 mb-4">
        <label class="form-label">
          <i class="fa fa-pencil fa-lg"></i> &nbsp; Subtitle
        </label>
        <input
          type="text"
          class="form-control"
          placeholder="Subtitle"
          formControlName="subtitle"
        />
        <small
          class="text-danger"
          *ngIf="newsForm.get('newsDetails.subtitle')?.hasError('required')"
        >
          This Input Is Required!
        </small>
      </div>
    </div>


   <!-- Row 2: Details -->
   <div class="row">
    <div class="col-12 mb-4">
      <label class="form-label">
        <i class="fa fa-align-left fa-lg"></i>  &nbsp; Details
      </label>
      <textarea
        type="text"
        class="form-control"  
        placeholder="Details"
        formControlName="details"
        rows="10"
        cols="70"
      > </textarea>
      <small
        class="text-danger"
        *ngIf="newsForm.get('newsDetails.subtitle')?.hasError('required')"
      >
        This Input Is Required!
      </small>
    </div>
  </div>

 
    <!-- Submit Button -->
    <div class="row mt-4">
      <div class="col text-center">
        <button type="submit" class="btn btn-success btn-lg">
          <i class="fa fa-paper-plane"></i> &nbsp; Create News
        </button>
      </div>
    </div>
  </form>
</div>

<!-- Image Preview Modal -->
<div
  class="modal"
  id="imagePreviewModal"
  tabindex="-1"
  [ngClass]="{ show: isModalOpen }"
  (click)="closeModal()"
>
  <div
    class="modal-dialog modal-dialog-centered modal-fullscreen"
    (click)="$event.stopPropagation()"
  >
    <div class="modal-content">
      <div class="modal-body">
        <img [src]="imagePreview" class="img-fluid w-100" alt="Preview Image" />
      </div>
      <button type="button" class="btn-close" (click)="closeModal()">
        <i class="fa-solid fa-rectangle-xmark"></i>
      </button>
    </div>
  </div>
</div>
